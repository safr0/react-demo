(this["webpackJsonpmeeting-room-booking-system"]=this["webpackJsonpmeeting-room-booking-system"]||[]).push([[0],{11:function(t,e,s){"use strict";s.r(e);var o=s(1),l=s.n(o),i=s(3),n=s.n(i),a=(s(8),s(9),s(0));class c extends l.a.Component{constructor(){super(),this.state={updateState:!0,bookingSlots:this.CreateTimeSlots(9,17,2),selectedSlots:[],bookedSlots:[]},this.setState({bookingSlots:this.SetBookingSlotsAsUnavailable(this.state.bookingSlots,["11:00","12:00","12:30","15:30"])})}CreateTimeSlots(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const o=e-t;let l=[],i=0;for(let n=t;n<t+o;n++){const t=this.HourSplitIncrement(s);let e=0;for(let o=0;o<s;o++)l.push(this.CreateTimeSlot(i,this.GetFormattedTime(n,e),this.GetFormattedTime(n,e+t),"available")),e+=t,i+=1}return l}CreateTimeSlot(t,e,s,o){return{slotId:t,startTime:e,endTime:s,bookingStatus:o}}HourSplitIncrement(t){let e=0;switch(t){case 1:default:e=60;break;case 2:e=30;break;case 4:e=15}return e}GetFormattedTime(t,e){let s=t,o=e;return 60===o&&(s+=1,o=0),"".concat(s,":").concat(o.toLocaleString("en-AU",{minimumIntegerDigits:2,useGrouping:!1}))}SetBookingSlotsAsUnavailable(t,e){return t.map((t=>{let s=t;return e.includes(s.startTime)&&(s.bookingStatus="unavailable"),s}))}HandleSelectionClick(t){this.setState({updateState:!0}),"unavailable"===t.bookingStatus||"booked"===t.bookingStatus||("selected"===t.bookingStatus?t.slotId!==this.state.selectedSlots[0].slotId&&t.slotId!==this.state.selectedSlots[this.state.selectedSlots.length-1].slotId?alert("You can only deselect the first or last selected time slot!"):(t.bookingStatus="available",this.setState({selectedSlots:this.state.selectedSlots.filter((e=>e.slotId!==t.slotId))})):0===this.state.selectedSlots.length?(t.bookingStatus="selected",this.setState({selectedSlots:[t]})):t.slotId!==this.state.selectedSlots[0].slotId-1&&t.slotId!==this.state.selectedSlots[this.state.selectedSlots.length-1].slotId+1?alert("You must select an adjacent time slot to those already selected!"):(t.bookingStatus="selected",this.state.selectedSlots.push(t),this.state.selectedSlots.sort(((t,e)=>t.slotId-e.slotId))))}HandleConfirmClick(){this.setState({bookingSlots:this.state.bookingSlots.map((t=>{let e=t;return"selected"===t.bookingStatus&&(e.bookingStatus="booked"),e})),bookedSlots:[...this.state.bookedSlots,this.state.selectedSlots],selectedSlots:[]})}HandleReturnSlotsClick(t){this.setState({bookingSlots:this.state.bookingSlots.map((e=>{let s=e;return t.some((t=>t.slotId===e.slotId))&&(s.bookingStatus="available"),s})),bookedSlots:this.state.bookedSlots.filter((e=>t!==e))})}render(){return Object(a.jsxs)(l.a.Fragment,{children:[this.state.selectedSlots.length>0&&Object(a.jsxs)("div",{className:"selectionWrapper",children:[Object(a.jsx)("h2",{children:"Selected Booking Time"}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:["Start Time: ".concat(this.state.selectedSlots[0].startTime," - End Time: ").concat(this.state.selectedSlots[this.state.selectedSlots.length-1].endTime," "),Object(a.jsx)("button",{onClick:()=>this.HandleConfirmClick(),children:"Confirm Booking"})]})})]}),this.state.bookedSlots.length>0&&Object(a.jsxs)("div",{className:"bookedSlotsWrapper",children:[Object(a.jsx)("h2",{children:"Booked Times"}),this.state.bookedSlots.map((t=>Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:["Start Time: ".concat(t[0].startTime," - End Time: ").concat(t[t.length-1].endTime," "),Object(a.jsx)("button",{onClick:()=>this.HandleReturnSlotsClick(t),children:"Return Booking"})]})})))]}),Object(a.jsx)("div",{className:"bookingSlotsWrapper",children:this.state.bookingSlots.map((t=>Object(a.jsx)("div",{className:"bookingSlot "+t.bookingStatus,onClick:()=>this.HandleSelectionClick(t),children:Object(a.jsx)("div",{children:"".concat(t.startTime," - ").concat(t.endTime)})})))})]})}}var d=c;var r=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(d,{})})};var S=t=>{t&&t instanceof Function&&s.e(3).then(s.bind(null,12)).then((e=>{let{getCLS:s,getFID:o,getFCP:l,getLCP:i,getTTFB:n}=e;s(t),o(t),l(t),i(t),n(t)}))};n.a.render(Object(a.jsx)(l.a.StrictMode,{children:Object(a.jsx)(r,{})}),document.getElementById("root")),S()},8:function(t,e,s){},9:function(t,e,s){}},[[11,1,2]]]);
//# sourceMappingURL=main.22409aba.chunk.js.map